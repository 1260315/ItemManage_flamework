<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>P010-1 ファイル入力画面</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <!-- ヘッダーをインクルード -->
    {% include 'header.html' %}

    <!-- メインコンテンツ -->
    <main class="container">
        <h2>P010-1 ファイル情報入力</h2>
        <p>※ファイル形式は csv 形式に限ります</p>

        <!-- アップロードフォーム -->
        <form action="{{ url_for('import_items') }}" method="POST" enctype="multipart/form-data">
            <input type="file" name="file" accept=".csv" required multiple>
            <br><br>
            <button type="submit" class="btn">ここをクリックして入力</button>
        </form>

        <form action="{{ url_for('home') }}" method="GET" style="margin-top: 10px;">
            <button type="submit" class="btn-secondary">ホームへ戻る</button>
        </form>

        <hr>

        <!-- CSV 入力例 -->
        <h2>入力例（CSV形式）</h2>
        <table class="table">
            <tr>
                <th>name, remark, category_ids</th>
            </tr>
            <tr><td>ノートPC, 研究室用, "1,2"</td></tr>
            <tr><td>モニター, 24インチディスプレイ, 2</td></tr>
            <tr><td>キーボード, 無線タイプ, 3</td></tr>
            <tr><td>マウス, , 3</td></tr>
            <tr><td>プリンタ, 共有プリンタ, "1,4"</td></tr>
        </table>
        <p>nameとcategory_idsは必須です。remark部分は入力しなくてもかまいません。</p>

        <!-- カテゴリID対応表 -->
        <h2>カテゴリID対応表</h2>
        <table class="table">
            <tr>
                <th>ID</th>
                <th>カテゴリ名</th>
            </tr>
            {% for category in categories %}
            <tr>
                <td>{{ category.id }}</td>
                <td>{{ category.name }}</td>
            </tr>
            {% endfor %}
        </table>

        <p>
            CSV の <code>category_ids</code> 列には上記の ID を入力してください。<br>
            複数カテゴリを指定する場合は <code>"1,3"</code> のようにカンマ区切りで入力してください。
        </p>
    </main>
</body>
</html>
