<!--
    画面ID  :   P006-1 
    入力    :   編集する備品情報
    内容    :   備品情報(name, remark, categories)を入力するフォームを出し、初期値を元の備品情報とする。
    出力    :   変更があれば、入力されたフォームを出力として編集情報伝送処理(/edit_itemのPOSTメソッド呼び出し)
                なければ、検索一覧画面(/のGETメソッド呼び出し)
-->
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>備品情報編集</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    
    <!-- ヘッダーをインクルード -->
    {% include 'header.html' %}

    <div class="container">
        <h2>備品情報の編集</h2>
        <form method="POST" action="/edit_item">
            <input type="hidden" name="id" value="{{ item.id }}">

            <div class="form-group">
                <label>備品名:</label>
                <input type="text" name="name" value="{{ item.name }}">
                {% if errors.name %}
                    <span class="error">{{ errors.name }}</span>
                {% endif %}
            </div>

            <div class="form-group">
                <fieldset>
                    <legend>カテゴリー:</legend>
                    <div class="categories">
                        {% for category in categories %}
                            <label>
                                <input type="checkbox" name="category_ids" value="{{ category.id }}"
                                {% if category in item.categories %} checked {% endif %}>
                                {{ category.name }}
                            </label>
                        {% endfor %}
                    </div>
                </fieldset>
            </div>

            <div class="form-group">
                <label>備考:</label>
                <textarea name="remark">{{ item.remark }}</textarea>
                {% if errors.remark %}
                    <span class="error">{{ errors.remark }}</span>
                {% endif %}
            </div>

            <button type="submit">編集</button>
        </form>

        <form method="GET" action="/items">
            <button type="submit" class="cancel-btn">検索画面に戻る</button>
        </form>
    </div>
</body>
</html>
